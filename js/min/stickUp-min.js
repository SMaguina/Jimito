jQuery(function($){$(document).ready(function(){var s=[],t=[],o=[],n=0,r="",e="",a="",i=null,c=0,l=0,p=0,u=0;$(window).scroll(function(s){var t=$(this).scrollTop();r=t>n?"down":"up",n=t}),$.fn.stickUp=function(s){$(this).addClass("stuckMenu");var t=0;if(null!=s){for(var n in s.parts)s.parts.hasOwnProperty(n)&&(o[t]=s.parts[t],t++);0==t&&console.log("error:needs arguments"),e=s.itemClass,a=s.itemHover,null!=s.topMargin?"auto"==s.topMargin?u=parseInt($(".stuckMenu").css("margin-top")):isNaN(s.topMargin)&&s.topMargin.search("px")>0?u=parseInt(s.topMargin.replace("px","")):isNaN(parseInt(s.topMargin))?(console.log("incorrect argument, ignored."),u=0):u=parseInt(s.topMargin):u=0,i=$("."+e).size()}c=parseInt($(this).height()),l=parseInt($(this).css("margin-bottom")),p=parseInt($(this).next().closest("div").css("margin-top")),vartop=parseInt($(this).offset().top)},$(document).on("scroll",function(){function s(s){contentView=.4*$("#"+o[s]).height(),testView=t[s]-contentView,varscroll>testView?($("."+e).removeClass(a),$("."+e+":eq("+s+")").addClass(a)):varscroll<50&&($("."+e).removeClass(a),$("."+e+":eq(0)").addClass(a))}if(varscroll=parseInt($(document).scrollTop()),null!=i)for(var n=0;i>n;n++)t[n]=$("#"+o[n]).offset().top,"down"==r&&varscroll>t[n]-50&&varscroll<t[n]+50&&($("."+e).removeClass(a),$("."+e+":eq("+n+")").addClass(a)),"up"==r&&s(n);vartop<varscroll+u&&($(".stuckMenu").addClass("isStuck"),$(".stuckMenu").next().closest("div").css({"margin-top":c+l+p+"px"},10),$(".stuckMenu").css("position","fixed"),$(".isStuck").css({top:"0px"},10,function(){})),varscroll+u<vartop&&($(".stuckMenu").removeClass("isStuck"),$(".stuckMenu").next().closest("div").css({"margin-top":p+"px"},10),$(".stuckMenu").css("position","relative"))})})});